<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.codet.front.item.mapper.ItemFrontMapper" >
  <resultMap id="BaseResultMap" type="com.codet.pojo.Item" >
    <id column="itemId" property="itemid" jdbcType="INTEGER" />
    <result column="itemLevelId" property="itemlevelid" jdbcType="INTEGER" />
    <result column="itemTypeId" property="itemtypeid" jdbcType="INTEGER" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="detail" property="detail" jdbcType="VARCHAR" />
    <result column="pic" property="pic" jdbcType="VARCHAR" />
    <result column="price" property="price" jdbcType="REAL" />
    <result column="benefitFlag" property="benefitflag" jdbcType="VARCHAR" />
    <result column="flagNum" property="flagnum" jdbcType="INTEGER" />
    <result column="benefitPrice" property="benefitprice" jdbcType="REAL" />
  </resultMap>
  
	<resultMap id="ListMap" type="com.codet.pojo.ItemsQueryPojo" extends="BaseResultMap"  > 
		
		
		
		<association property="itemlevel"  javaType="com.codet.pojo.Itemlevel">  
			<id column="itemLevelId" property="itemlevelid" jdbcType="INTEGER" />
		    <result column="level" property="level" jdbcType="VARCHAR" />
		</association>
		<association property="itemtype" javaType="com.codet.pojo.Itemtype" >
		    <id column="itemTypeId" property="itemtypeid" jdbcType="INTEGER" />
		    <result column="type" property="type" jdbcType="VARCHAR" />
	  </association>
	  
	  
	</resultMap>
	


<!-- 分页查询 --> 
 <select id="itemFindAll" parameterType="java.util.Map" resultMap="ListMap">  
        select i.name,itLv.level ,itTy.type
         from Item i, ItemLevel itLv,ItemType itTy
<where>  
    <if test="priceBegin!=null">  
         and i.name = #{name}  
    </if>  
    <if test="priceEnd!=null">  
        and i.detail =  #{detail}  
    </if>
    <if test="priceEnd!=null">  
        and i.price =  #{price}  
    </if>
    <if test="priceEnd!=null">  
        and i.pic = #{pic}  
    </if>
    <if test="priceEnd!=null">  
        and i.benefitPrice =  #{benefitPrice}  
    </if>
    <if test="priceEnd!=null">  
        and itTy.type =  #{type}  
    </if>            
   
</where>  
        limit #{start},#{pageSize}  
 </select>  
 
</mapper>